## longhornctl install preflight

Install Longhorn preflight

### Synopsis

This command prepares your system for Longhorn deployment. It automates the installation of the necessary dependencies.
These dependencies ensure your cluster meets the necessary requirements for successful Longhorn operation.

```
longhornctl install preflight [flags]
```

On some OS, like for example SLE Micro, after having installed the needed packages, `longhornctl` asks to the user to reboot the machine and
to execute the install command again. During the first execution `longhornctl` install needed packages, during the second one it probes modules, start services and configure tools.

### Examples

```
$ longhornctl install preflight
INFO[2024-07-16T17:06:55+08:00] Initializing preflight installer
INFO[2024-07-16T17:06:55+08:00] Cleaning up preflight installer
INFO[2024-07-16T17:06:55+08:00] Running preflight installer
INFO[2024-07-16T17:06:55+08:00] Installing dependencies with package manager
INFO[2024-07-16T17:09:08+08:00] Installed dependencies with package manager
INFO[2024-07-16T17:09:08+08:00] Retrieved preflight installer result:
ip-192-168-208-117:
  info:
  - Successfully installed package nfs-client
  - Successfully installed package open-iscsi
  - Successfully installed package cryptsetup
  - Successfully probed module nfs
  - Successfully probed module iscsi_tcp
  - Successfully probed module dm_crypt
  - Successfully started service iscsid 
INFO[2024-07-16T17:09:08+08:00] Cleaning up preflight installer
INFO[2024-07-16T17:09:08+08:00] Completed preflight installer. Use 'longhornctl check preflight' to check the result (on some os a reboot is required first)
```

If a reboot is required, the following message will be displayed:
```
  warn:
  - Need to reboot the system and execute longhornctl install preflight again 
```

### Options

```
      --allow-pci string          Specify a comma-separated (,) list of allowed PCI devices. By default, all PCI devices are blocked by a non-valid address. (default "none")
      --driver-override string    Userspace driver for device bindings. Override default driver for PCI devices.
      --enable-spdk               Enable installation of SPDK required packages, modules, and setup.
  -h, --help                      help for preflight
      --huge-page-size int        Specify the huge page size in MiB for SPDK. (default 2048)
      --image string              Image containing longhornctl-local (default "longhornio/longhorn-cli:v1.8.0-dev")
      --kube-config string        Kubernetes config (kubeconfig) path
  -l, --log-level string          Log level (default "info")
      --operating-system string   Specify the operating system ("", cos). Leave this empty to use the package manager for installation.
      --spdk-options string       Specify a comma-separated (,) list of custom options for configuring SPDK environment.
      --update-packages           Update packages before installing required dependencies. (default true)
```

### SEE ALSO

* [longhornctl install](longhornctl_install.md)	 - Longhorn installation operations
* [longhornctl install preflight stop](longhornctl_install_preflight_stop.md)	 - Stop Longhorn preflight installer

###### Auto generated by spf13/cobra on 27-Nov-2024
